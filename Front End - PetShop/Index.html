<!--
    Alunos: 
        Lucas Xavier Ebling Pereira - 10692183 
        Lucas Gabriel Mendes Miranda - 10265892
        Luís Fernando Martins Rodrigues de Araújo - 11275189

    O código abaixo representa todos os DIVS presentes em nosso trabalho de forma "interativa", como se fosse o site sendo utilizado em si.
    Se for desejado ver todos os divs ao mesmo tempo, acesse kernel.html, aonde a maioria dos divs se encontram. 
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&display=swap" rel="stylesheet">
    <title>The Animal House</title>
</head>

<body>

    <div id="app">
        <!--Cabecalho, Presente em todas as Paginas-->
        <div class="cabecalho">
            <header>
                <h1 id="logo-text">The Animal House</h1>
            </header>
        </div>
        <br>
        <!--Divs Presentes no login/paginal inicial-->
        <div v-show="currUser == usertypes[2]">
            <!--Div de Apresentacao - "Quem Nós Somos"-->
            <div class="whoarewe">
                <h2><u>Who we are:</u></h2>
                <p>Mussum Ipsum, cacilds vidis litro abertis. Leite de capivaris, leite de mula manquis sem cabeça.
                    Aenean aliquam molestie leo, vitae iaculis nisl. Vehicula non. Ut sed ex eros. Vivamus sit amet nibh
                    non tellus tristique interdum. Em pé sem cair, deitado sem dormir, sentado sem cochilar e fazendo
                    pose.
                    Mussum Ipsum, cacilds vidis litro abertis. Leite de capivaris, leite de mula manquis sem cabeça.
                    Aenean aliquam molestie leo, vitae iaculis nisl. Vehicula non. Ut sed ex eros. Vivamus sit amet nibh
                    non tellus tristique interdum. Em pé sem cair, deitado sem dormir, sentado sem cochilar e fazendo
                    pose.Mussum Ipsum, cacilds vidis litro abertis. Leite de capivaris, leite de mula manquis sem
                    cabeça. Aenean aliquam molestie leo.
                </p>

            </div>
            <!--Div Para o login-->
            <div class="loginform">
                <h2>Become Our Customer!</h2>
                <table>
                    <tr>
                        <td><label>Username:</label></td>
                        <td><input class="input-1 transparent" type="text" v-model="userInfo.username"></td>
                    </tr>
                    <tr>
                        <td><label>Password:</label></td>
                        <td><input class="input-1 transparent" type="password" v-model="userInfo.password"></td>
                    </tr>
                </table>

                <label>Log In as Administrator:</label>
                <input type="checkbox" v-model="admincheck">
                <br>

                <button v-on:click="login">LOG IN</button>
                <button v-on:click="setPage('main')">SIGN UP</button>

                <div v-show="currPage == pages[1]">

                    <div class="contrastbox">
                        <table>
                            <tr>
                                <td><label>Username:</label></td>
                                <td><input class="input-1 transparent" type="text" v-model="userInfo.username"></td>
                            </tr>
                            <tr>
                                <td><label>Phone Number:</label></td>
                                <td><input class="input-1 transparent" type="text" v-model="userInfo.phonenumber"></td>
                            </tr>
                            <tr>
                                <td><label>Address:</label></td>
                                <td><input class="input-1 transparent" type="text" v-model="userInfo.address"></td>
                            </tr>
                            <tr>
                                <td><label>Email:</label></td>
                                <td><input class="input-1 transparent" type="text" v-model="userInfo.email"></td>
                            </tr>
                            <tr>
                                <td><label>Password:</label></td>
                                <td><input class="input-1 transparent" type="password" v-model="userInfo.password"></td>
                            </tr>
                        </table>
                        <button v-on:click="signin">Create Account</button>
                    </div>
                </div>

            </div>
        </div>
        <!--Fim dos divs Pagina de Login-->

        <!--Secao divs Usuario = Cliente-->
        <div v-show="currUser == usertypes[0]">
            <!--Div De usuário Aparece sempre que usuario = cliente-->
            <div class="userDiv">

                <img :src="'http://localhost:3000/' + userInfo.imageURL">
                <p style="float: left;">{{userInfo.username}}</p>
                <button v-on:click="exite()">Exit</button>
                <button @click="emptyCart()">Empty Cart</button>
                <button @click="setPage('checkout')">Checkout</button>
                <button @click="setPage('main')">Dashboard</button>
                <div class="cart">My Cart: U$ {{ myCart.total.toFixed(2) }}</div>

            </div>
            <br>

            <!--Pagina Menu de opcoes cliente-->
            <div v-show="currPage == pages[1]">
                <div class="seletor cliente">
                    <h2>Client's Dashboard</h2>
                    <button class="botao-menu" v-on:click="setPage('service'); getEveryService(); getAppointments(); getPets();">Schedule
                        Service<br><br><img src="images/calendar.png"></button>
                    <button class="botao-menu" v-on:click="setPage('products'); getEveryProduct();">Buy
                        Products<br><br><img src="images/shopping-cart.png"></button>
                    <button class="botao-menu" v-on:click="setPage('manage1')">Update Info<br><br><img
                            src="images/registration.png"></button>
                    <button class="botao-menu" v-on:click="setPage('manage2'); getPets();">Register Pets<br><br><img
                            src="images/carrier.png"></button>
                </div>
            </div>
            <!--Pagina Registrar Animais-->
            <div v-show="currPage == pages[5]">
                <div class="container-1 blue view-and-register">
                    <h2>Register Pets</h2>
                    <div class="scroll-container view-animals">
                        <!--Divs de Registro Animal-->
                        <div class="regAnimal" v-for="(pet, index) in pets">
                            <img class="small-img" :src="'http://localhost:3000/' + pet.petImage">
                            <ul class="list-card">
                                <li class="list-card-item">Name: {{ pet.name }}</li>
                                <li class="list-card-item">Species: {{ pet.species }}</li>
                                <li class="list-card-item">Breed: {{ pet.breed }}</li>
                                <li class="list-card-item">Age: {{ pet.age }}</li>
                            </ul>
                            <ul class="list-card">
                                <p>Reserves:</p>
                                <li class="list-card-item" v-for="service in pets[index].services">
                                    {{ service.name }}: {{ service.day }}, {{ service.hour }}h
                                </li>
                            </ul>
                            <button class="closeButton" class="button2"
                                @click="showmodal2(); deletePet(index);">X</button>
                        </div>
                    </div>

                    <!--Div de inserir Novo animal-->
                    <div class="container-2 blue register-container">
                        <p v-if="erros.length">
                            <b>
                                Errors:
                            </b>
                        <ul>
                            <li v-for="erro in erros">
                                {{erro}}
                            </li>
                        </ul>
                        </p>
                        <div class="column">
                            <img v-if="!urlPreview" class="small-img" src="images/pet.png">
                            <img v-if="urlPreview" class="small-img" :src="urlPreview">
                        </div>
                        <form @submit="validateFormAddPets($event); addPet();">
                            <div class="column">
                                <input class="input-1" type="text" name="pet-name" v-model="addPetForm.name"
                                    placeholder="Pet's name">
                                <input class="input-1" type="text" name="pet-species" v-model="addPetForm.species"
                                    placeholder="Pet's species">
                                <input v-model="petImage" type="file" @change="previewImage">    
                            </div>
                            <div class="column">
                                <input class="input-1" type="text" name="pet-breed" v-model="addPetForm.breed"
                                    placeholder="Pet's breed">
                                <input class="input-1" type="text" name="pet-age" v-model="addPetForm.age"
                                    placeholder="Pet's age">
                                <button type="submit" class="btn-1 green">Add Pet</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
            <!--Pagina editar registro-->
            <div v-show="currPage ==pages[4]">
                <div class="useReg">
                    <h2>Update Info</h2>
                    <br>
                    <div class="container-3 blue">
                        <img v-if="urlPreview" :src="urlPreview">                        
                        <img v-if="!urlPreview" :src="'http://localhost:3000/' + userInfo.imageURL">
                        <br>
                        <input v-model="userImage" type="file" @change="previewImage">
                        <table>
                            <tr>
                                <td><label>Phone Number:</label></td>
                                <td><input class="input-1 white" type="text" v-model="userInfoUpdated.phonenumber"></td>
                            </tr>
                            <tr>
                                <td><label>Address:</label></td>
                                <td><input class="input-1 white" type="text" v-model="userInfoUpdated.address"></td>
                            </tr>
                            <tr>
                                <td><label>Email:</label></td>
                                <td><input class="input-1 white" type="text" v-model="userInfoUpdated.email"></td>
                            </tr>
                            <tr>
                                <td><label>Password:</label></td>
                                <td><input class="input-1 white" type="password" v-model="userInfoUpdated.password">
                                </td>
                            </tr>
                        </table>
                        <button class="btn-1 green" @click="updateUserInfo()">Confirm Changes</button>
                    </div>
                </div>
            </div>

            <!--Pagina comprar Produtos-->
            <div v-show="currPage == pages[2]">
                <!--Modal, Div usado para mostrar a verão "grande" do produto-->
                <div id="fancymodal" class="big-box-modal">
                    <div class="serv-grande">
                        <button class="closeButton" onclick="closer()">X</button>
                        <img :src="'http://localhost:3000/' + selectedProduct.productImage">
                        <br>
                        <em>Product Name: {{ selectedProduct.name }}</em>
                        <br>
                        <em>In stock: {{ selectedProduct.stock }}</em>
                        <br>
                        <em>Price: ${{ selectedProduct.price }}</em>
                        <br>
                        <button v-if="selectedProduct.stock > 0" class="buy-btn-big"
                            @click="addToCart(selectedProduct.name, selectedProduct.price, selectedProduct._id, 'product', selectedProduct.index); closer3();">ADD TO CART</button>
                        <input v-model="qtdSelected" type="number" min="1" :max="selectedProduct.stock">
                        <br>
                        <div id="descricao-produto">
                            <h3>Product Description:</h3>
                            <p>
                                {{ selectedProduct.description }}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="seletor">
                    <h2>Buy Products:</h2>
                    <ul>
                        <li v-for="(product, index) in products">
                            <!--Div De produtos "pequeno"-->
                            <div class="serv-pequeno">
                                <img class="prod-serv-miniatura" :src="'http://localhost:3000/' + product.productImage">
                                <br>
                                <em>Product Name: {{ product.name }}</em>
                                <br>
                                <em>In stock: {{ product.stock }}</em>
                                <br>
                                <em>Price: ${{ product.price }}</em>
                                <br>
                                <button v-if="product.stock > 0" class="buy-btn-small"
                                    v-on:click="setSelectedProduct(index); showmodal();">BUY</button>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <!--Pagina Comprar Servicos-->
            <div v-show="currPage == pages[3]">
                <!--Similar A de Produtos, temos aqui um "servico" grande quando clicado-->
                <div id="bigmodal2" class="big-box-modal" style="display: none;">
                    <div class="serv-grande" style="min-height: 900px;">
                        <button class="closeButton" id="closem2" onclick="closer3()">X</button>
                        <img :src="'http://localhost:3000/' + selectedService.ServiceImage">
                        <br>
                        <em>Service Name: {{ selectedService.name }}</em>
                        <br>
                        <em>Price: ${{ selectedService.price }}/h</em>
                        <br>
                        <br>
                        <button class="buy-btn-big"
                            @click="addToCart(selectedService.name, selectedService.price, selectedService._id, 'service', selectedService.index, selectedService.ServiceImage); closer3();">BOOK</button>
                        <br>
                        <div id="descricao-servico">
                            <h3>Product Description:</h3>
                            <p>
                                {{ selectedService.description }}
                            </p>
                            <h3>Choose the pet:</h3>
                            <select v-model="selectedPet">
                                <option value="" ></option>
                                <option v-for="pet in pets" :value="pet._id">{{ pet.name }}, {{ pet.age }}, {{ pet.species }}, {{ pet.breed }}</option>
                            </select>                            
                        </div>
                        <div id="area-agendamento">
                            <h3>Choose your time slot:</h3>
                            <!--Div para fazer o "calendario"-->
                            <div class="time-slots">
                                <button @click="previousCalendarPage" class="week-selector"><</button>
                                        <button @click="nextCalendarPage" class="week-selector">></button>
                                           
                                        <div v-if="dates && appointments" class="tabela">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                        <th>{{ dates[0 + calendarPage * 7].getDate() + '/' + (Number(dates[0 + calendarPage * 7].getMonth()) + Number(1)).toString() }}</th>

                                                        <th>{{ dates[1 + calendarPage * 7].getDate() + '/' + (Number(dates[1 + calendarPage * 7].getMonth()) + Number(1)).toString() }}</th>

                                                        <th>{{ dates[2 + calendarPage * 7].getDate() + '/' + (Number(dates[2 + calendarPage * 7].getMonth()) + Number(1)).toString() }}</th>

                                                        <th>{{ dates[3 + calendarPage * 7].getDate() + '/' + (Number(dates[3 + calendarPage * 7].getMonth()) + Number(1)).toString() }}</th>

                                                        <th>{{ dates[4 + calendarPage * 7].getDate() + '/' + (Number(dates[4 + calendarPage * 7].getMonth()) + Number(1)).toString() }}</th>

                                                        <th>{{ dates[5 + calendarPage * 7].getDate() + '/' + (Number(dates[5 + calendarPage * 7].getMonth()) + Number(1)).toString() }}</th>

                                                        <th>{{ dates[6 + calendarPage * 7].getDate() + '/' + (Number(dates[6 + calendarPage * 7].getMonth()) + Number(1)).toString() }}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="horario-dado">9h - 10h</td>
                                                        <!-- renderiza cada linha do calendário de acordo com o vetor de appointments -->
                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 1)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (1 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>        
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">10h - 11h</td>
                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 2)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (2 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>    
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">11h - 12h</td>

                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 3)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (3 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>       
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">12h - 13h</td>

                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 4)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (4 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>    
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">13h - 14h</td>

                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 5)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (5 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>    
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">14h - 15h</td>

                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 6)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (6 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>       
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">15h - 16h</td>

                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 7)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (7 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>     
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">16h - 17h</td>

                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 8)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (8 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>       
                                                    </tr>
                                                    <tr>
                                                        <td class="horario-dado">17h - 18h</td>

                                                         <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 9)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (9 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>        
                                                    </tr>

                                                    <tr>
                                                        <td class="horario-dado">18h - 19h</td>

                                                        <td v-for="index in 7" :key="index">
                                                            <button @click="toggleSelect(index, 10)" v-bind:class="{'selecionado': appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].isSelected,
                                                             'liberado': !appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].isSelected}" v-if="!appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].status">
                                                                LIVRE
                                                            </button>

                                                            <button v-if="appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].status" class="ocupado">
                                                              
                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].servicename}}<br>

                                                              <img class="img-min" :src="'http://localhost:3000/' + appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].imageurl"><br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].petname}}<br>

                                                              {{appointments.timeTable[(calendarPage*7 + index - 1)*10 + (10 - 1)].ownername}}<br>
                                                            </button>                                                            
                                                        </td>       
                                                    </tr>                                                                                                        
                                                </tbody>
                                            </table>
                                        </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="seletor">
                    <h2>Schedule Services:</h2>
                    <ul>
                        <li v-for="(service, index) in services">
                            <!--Div Para os serviços pequenos-->
                            <div class="serv-pequeno">
                                <img class="prod-serv-miniatura" :src="'http://localhost:3000/' + service.ServiceImage">
                                <br>
                                <em>Service name: {{ service.name }}</em>
                                <br>
                                <em>Price: ${{ service.price }}/h</em>
                                <br>
                                <br>
                                <button class="buy-btn-small"
                                    v-on:click="setSelectedService(index); showmodal3();">BOOK</button>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div v-show="currPage == pages[8]">
                <!-- div para inserir informações de cartão de crédito -->
                <div class="useReg">
                    <h2>Check Out</h2>
                    <br>
                    <div class="container-3 blue">
                        <p>
                            Please, enter your credit card information:
                        </p>
                        <table>
                            <tr>
                                <td><label>Name:</label></td>
                                <td><input class="input-1 white" type="text"></td>
                            </tr>
                            <tr>
                                <td><label>Number:</label></td>
                                <td><input class="input-1 white" type="number"></td>
                            </tr>
                            <tr>
                                <td><label>CVV:</label></td>
                                <td><input class="input-1 white" type="number"></td>
                            </tr>
                            <tr>
                                <td><label>Expiration Date:</label></td>
                                <td><input class="input-1 white" type="month"></td>
                            </tr>                
                        </table>
                        <button class="btn-1 green" @click="checkout()">Finish Purchase</button>
                    </div>
                </div>  
            </div>    
        </div>
        <!--Fim Secao divs Usuario = Cliente-->

        <!--Secao divs Usuario = Admin-->
        <div v-show="currUser == usertypes[1]">
            <!--Div Admin, presente em todo momento em que user = admin-->
            <div class="userDiv">

                <img src="images/osso.png">
                <p style="float: left;">{{userInfo.username}}</p>
                <button v-on:click="exite()">Exit</button>


            </div>

            <!--Menu de opcoes Admin-->
            <div v-show="currPage == pages[1]">
                <br>
                <div class="seletor admin">
                    <h2>Admin's Dashboard</h2>
                    <button class="botao-menu" v-on:click="setPage('manage1')">Manage Admins<br><br><img
                            src="images/admin.png"></button>
                    <button class="botao-menu" v-on:click="setPage('manage2')">Manage Clients<br><br><img
                            src="images/cliente.png"></button>
                    <button class="botao-menu" v-on:click="setPage('products')">Manage Products<br><br><img
                            src="images/osso.png"></button>
                    <button class="botao-menu" v-on:click="setPage('service')">Manage Services<br><br><img
                            src="images/banho.png"></button>
                </div>
            </div>

            <!--Div Pagina Inventario Produtos-->
            <div v-show="currPage == pages[2]">
                <br>
                <div class="manager">
                    <!--Div Para edicao Usado, com leves variacoes em todos os menus de edicao-->
                    <div class="editor">
                        <h2>Editor</h2>
                        <img class="prod-serv-miniatura" src="images/osso.png">
                        <input type="file" id="imagem-escolhida-prod" name="myfile">
                        <input class="nome-prod-serv" id="nome-produto-editor" value="Product's name"
                            placeholder="Product's name" type="text"></input>
                        <input id="preço-produto-editor" value="Price" placeholder="Product's price"
                            type="text"></input>
                        <textarea>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore modi, accusantium nemo   minus, a nulla numquam dolores atque. Similique repellendus porro unde explicabo veniam placeat reprehenderit. Consequatur odio cum quaerat!
                                </textarea>
                        <label id="estoque-label" for="estoque">In Stock?</label>
                        <input type="checkbox" id="estoque-check" name="estoque" value="true">
                        <button class="save-btn">Save</button>
                    </div>

                    <!--Div de Inventario - Permite Visualisar o produto de forma resumida-->
                    <div class="inventory">
                        <button class="closeButton" v-on:click="setPage('main')">X</button>
                        <h2>Product Inventory</h2>
                        <input type="search" class="search" id="product-search" name="q"
                            aria-label="Search through site content">
                        <button class="inventory-btn search-btn"><img class="img-btn" src="images/loupe.png"></button>
                        <button class="inventory-btn add-btn"><img class="img-btn" src="images/plus.png"></button>
                        <div class="lista-registros">
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Product's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Div Inventario Servicos-->
            <div v-show="currPage == pages[3]">
                <br>
                <div class="manager">
                    <!--Div Editor-->

                    <div class="editor">
                        <h2>Editor</h2>
                        <img class="prod-serv-miniatura" src="images/banho.png">
                        <input type="file" id="imagem-escolhida-serviço" name="myfile">
                        <input class="nome-prod-serv" value="Service's name"
                            placeholder="Service's name" type="text"></input>
                        <input id="preço-serviço-editor" value="Price" placeholder="Service's Price"
                            type="text"></input>
                        <textarea placeholder="Service's Description">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore modi, accusantium nemo 	minus, a nulla numquam dolores atque. Similique repellendus porro unde explicabo veniam placeat reprehenderit. Consequatur odio cum quaerat!
                            </textarea>
                        <button class="time-slots-btn" v-on:click="setPage('special2')">Time Slots</button>
                        <button class="save-btn">Save</button>
                    </div>

                    <!--Div de Inventario-->
                    <div class="inventory">
                        <button class="closeButton" v-on:click="setPage('main')">X</button>
                        <h2>Services List</h2>
                        <input type="search" class="search" id="service-search" name="q"
                            aria-label="Search through site content">
                        <button class="inventory-btn search-btn"><img class="img-btn" src="images/loupe.png"></button>
                        <button class="inventory-btn add-btn"><img class="img-btn" src="images/plus.png"></button>
                        <div class="lista-registros">
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Service's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Div Manage Admins-->
            <div v-show="currPage == pages[4]">
                <br>
                <div class="manager">
                    <!--Div Editor-->
                    <div class="editor">
                        <h2>Editor</h2>
                        <img class="prod-serv-miniatura pessoa-miniatura" src="images/admin2.png">
                        <input type="file" id="imagem-escolhida-admin" name="myfile">
                        <input class="nome-prod-serv" id="nome-admin-editor" value="Admin's name"
                            placeholder="Admin's Name" type="text"></input>
                        <input id="admin-id" value="Admin's ID" placeholder="Admin's ID" type="text"></input>
                        <input id="admin-address" value="Admin's Address" placeholder="Admin's Address"
                            type="text"></input>
                        <input id="admin-phone" value="Admin's Phone" placeholder="Admin's Phone" type="text"></input>
                        <input id="admin-email" value="Admin's E-mail" placeholder="Admin's E-mail" type="text"></input>
                        <input id="admin-nickname" value="Admin's Nickname" placeholder="Admin's Nickname"
                            type="text"></input>
                        <button class="save-btn">Save</button>
                    </div>
                    <!--Div Inventario-->
                    <div class="inventory">
                        <button class="closeButton" v-on:click="setPage('main')">X</button>
                        <h2>Admins List</h2>
                        <input type="search" class="search" id="service-search" name="q"
                            aria-label="Search through site content">
                        <button class="inventory-btn search-btn"><img class="img-btn" src="images/loupe.png"></button>
                        <button class="inventory-btn add-btn"><img class="img-btn" src="images/plus.png"></button>
                        <div class="lista-registros">
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Admin's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Div manage Clientes-->
            <div v-show="currPage == pages[5]">
                <br>
                <div class="manager">
                    <!--Div Editor-->
                    <div class="editor">
                        <h2>Editor</h2>
                        <img class="prod-serv-miniatura pessoa-miniatura" src="images/social.png">
                        <input type="file" id="imagem-escolhida-cliente" name="myfile">
                        <input class="nome-prod-serv" value="Customer's name"
                            placeholder="Customer's Name" type="text"></input>
                        <input id="customer-id" value="Customer's ID" placeholder="Customer's ID" type="text"></input>
                        <input id="customer-address" value="Customer's Address" placeholder="Customer's Address"
                            type="text"></input>
                        <input id="customer-phone" value="Customer's Phone" placeholder="Customer's Phone"
                            type="text"></input>
                        <input id="customer-email" value="Customer's E-mail" placeholder="Customer's E-mail"
                            type="text"></input>
                        <input id="customer-nickname" value="Customer's Nickname" placeholder="Customer's Nickname"
                            type="text"></input>
                        <button class="view-pets-btn" v-on:click="setPage('special')">Pets</button>
                        <button class="save-btn">Save</button>
                    </div>
                    <!--Div Inventario-->
                    <div class="inventory">
                        <button class="closeButton" v-on:click="setPage('main')">X</button>
                        <h2>Customers List</h2>
                        <input type="search" class="search" id="service-search" name="q"
                            aria-label="Search through site content">
                        <button class="inventory-btn search-btn"><img class="img-btn" src="images/loupe.png"></button>
                        <button class="inventory-btn add-btn"><img class="img-btn" src="images/plus.png"></button>
                        <div class="lista-registros">
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                            <div class="registro">
                                <p class="registro-nome">Customer's name</p>
                                <button class="inventory-btn btn-del" onclick="showmodal2()"><img class="img-btn"
                                        src="images/trash.png"></button>
                                <button class="inventory-btn btn-edit"><img class="img-btn"
                                        src="images/edit.png"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Div Animais resgistrados para o Usuario-->
            <div v-show="currPage == pages[6]">
                <br>
                <div class="container-1 blue view-and-register">
                    <button class="closeButton principal" v-on:click="setPage('manage2')">X</button>
                    <h2>User's pets</h2>
                    <div class="scroll-container view-animals">
                        <div class="regAnimal">
                            <img src="images/pet.png">
                            <ul class="list-card">
                                <li class="list-card-item">Name: oqlaoqlao</li>
                                <li class="list-card-item">ID: 10292389110</li>
                                <li class="list-card-item">Species: ahshahsash</li>
                                <li class="list-card-item">Breed: kjndckan</li>
                                <li class="list-card-item">Age: 12</li>
                            </ul>
                            <ul class="list-card">
                                <p>Reservas:</p>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                            </ul>
                            <button class="closeButton" class="button2" onclick="showmodal2()">X</button>
                        </div>

                        <div class="regAnimal">
                            <img src="images/pet.png">
                            <ul class="list-card">
                                <li class="list-card-item">Name: oqlaoqlao</li>
                                <li class="list-card-item">ID: 10292389110</li>
                                <li class="list-card-item">Species: ahshahsash</li>
                                <li class="list-card-item">Breed: kjndckan</li>
                                <li class="list-card-item">Age: 12</li>
                            </ul>
                            <ul class="list-card">
                                <p>Reservas:</p>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                            </ul>
                            <button class="closeButton" class="button2" onclick="showmodal2()">X</button>
                        </div>

                        <div class="regAnimal">
                            <img src="images/pet.png">
                            <ul class="list-card">
                                <li class="list-card-item">Name: oqlaoqlao</li>
                                <li class="list-card-item">ID: 10292389110</li>
                                <li class="list-card-item">Species: ahshahsash</li>
                                <li class="list-card-item">Breed: kjndckan</li>
                                <li class="list-card-item">Age: 12</li>
                            </ul>
                            <ul class="list-card">
                                <p>Reservas:</p>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                            </ul>
                            <button class="closeButton" class="button2" onclick="showmodal2()">X</button>
                        </div>

                        <div class="regAnimal">
                            <img src="images/pet.png">
                            <ul class="list-card">
                                <li class="list-card-item">Name: oqlaoqlao</li>
                                <li class="list-card-item">ID: 10292389110</li>
                                <li class="list-card-item">Species: ahshahsash</li>
                                <li class="list-card-item">Breed: kjndckan</li>
                                <li class="list-card-item">Age: 12</li>
                            </ul>
                            <ul class="list-card">
                                <p>Reservas:</p>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                            </ul>
                            <button class="closeButton" class="button2" onclick="showmodal2()">X</button>
                        </div>

                        <div class="regAnimal">
                            <img src="images/pet.png">
                            <ul class="list-card">
                                <li class="list-card-item">Name: oqlaoqlao</li>
                                <li class="list-card-item">ID: 10292389110</li>
                                <li class="list-card-item">Species: ahshahsash</li>
                                <li class="list-card-item">Breed: kjndckan</li>
                                <li class="list-card-item">Age: 12</li>
                            </ul>
                            <ul class="list-card">
                                <p>Reservas:</p>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                                <li class="list-card-item"></li>
                            </ul>
                            <button class="closeButton" class="button2" onclick="showmodal2()">X</button>
                        </div>
                    </div>

                    <div class="container-2 blue register-container">
                        <div class="column">
                            <img class="small-img" src="images/pet.png">
                        </div>
                        <div class="column">
                            <input class="input-1" type="text" name="pet-name" placeholder="Pet's name">
                            <input class="input-1" type="text" name="pet-id" placeholder="Pet's ID">
                            <input class="input-1" type="text" name="pet-species" placeholder="Pet's Species">
                        </div>
                        <div class="column">
                            <input class="input-1" type="text" name="pet-breed" placeholder="Pet's Breed">
                            <input class="input-1" type="text" name="pet-age" placeholder="Pet's Age">
                            <button class="btn-1 green">Add Pet</button>
                        </div>
                    </div>
                </div>

            </div>

            <!--Div para mudar data Servicos-->
            <div v-show="currPage == pages[7]">
                <br>
                <div class="container-1 blue" id="adm-time-slots">
                    <button class="closeButton principal" v-on:click="setPage('service')">X</button>
                    <h2>Pet Shop's Time Slots</h2>

                    <div class="time-slots">
                        <button class="week-selector">
                            < </button>
                                <button class="week-selector">></button>

                                <div class="tabela">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>04/05</th>
                                                <th>05/05</th>
                                                <th>06/05</th>
                                                <th>07/05</th>
                                                <th>08/05</th>
                                                <th>09/05</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="horario-dado">9h - 10h</td>
                                                <td><button class="selecionado">SELECTED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                            </tr>
                                            <tr>
                                                <td class="horario-dado">10h - 11h</td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                            </tr>
                                            <tr>
                                                <td class="horario-dado">11h - 12h</td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                            </tr>
                                            <tr>
                                                <td class="horario-dado">13h - 14h</td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                            </tr>
                                            <tr>
                                                <td class="horario-dado">14h - 15h</td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                            </tr>
                                            <tr>
                                                <td class="horario-dado">15h - 16h</td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                            </tr>
                                            <tr>
                                                <td class="horario-dado">16h - 17h</td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                            </tr>
                                            <tr>
                                                <td class="horario-dado">17h - 18h</td>
                                                <td><button class="ocupado">RESERVED</button></td>
                                                <td><button class="liberado">FREE</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                                <td><button class="associado">ASSOCIATED</button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                    </div>
                    <div id="adm-btns">
                        <button class="btn-1 blue">Associate Service</button>
                        <button class="btn-1 red">Release Time Slot</button>
                    </div>
                </div>
            </div>

            <!--Div "Voce tem certeza" Presente em varios divs diferentes-->
            <div id="confirmmodal" class="big-box-modal" style="display: none;">
                <div class="pop-up-peq">
                    <button class="closeButton" id="confirmclose" onclick="closer2()">X</button>
                    <p>Tem certeza que deseja realizar essa ação?</p>
                    <button class="btn-1 green">Sim</button>
                    <button class="btn-1 red">Não</button>
                </div>
            </div>
        </div>

        <!--Vou Usar o VUE para fazer a implementação do SPA-->
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
        <script>
            new Vue({
                el: "#app",

                data: {
                    // id do pet selecionado na hora de comprar um serviço
                    selectedPet: null,

                    // appointment selecionado no calendário
                    selectedAppointment: null,

                    // vetor com as datas dos próximos 700 dias
                    dates: null,

                    // indica a semana do calendário que está sendo visualizada no momento
                    calendarPage: 0,  

                    // two-way data binding com o seletor da imagem do pet a ser registrado                    
                    userImage: "",

                    // two-way data binding com o seletor da imagem do pet a ser registrado
                    petImage: "",

                    // armazena um arquivo imagem
                    imageFile: null,

                    // URL do preview de uma imagem
                    urlPreview: null,

                    qtdSelected: 1,  // quantidade do produto selecionado que o usuário vai comprar

                    fetched: {},

                    erros: [],  // armazena erros de validação de formulário

                    myCart: {
                        total: 0,
                        receipt: []
                    },

                    userInfo: {
                        _id: "",
                        username: "",
                        phonenumber: "",
                        address: "",
                        email: "",
                        password: "",
                        imageURL: "",
                        realName: ""
                    },

                    addPetForm: {
                        name: "",
                        species: "",
                        breed: "",
                        age: ""
                    },

                    // Para usar no form de atualização dos dados (página "Update Info" do cliente)
                    userInfoUpdated: {
                        password: "",
                        phonenumber: "",
                        address: "",
                        email: "",
                        profilePic: ""
                    },

                    //Informacao login
                    admincheck: false,

                    products: [],
                    services: [],
                    admins: [],
                    users: [],
                    pets: [],  // pets do usuário
                    appointments: null,  // appointments marcados

                    selectedProduct: {},
                    selectedService: {},

                    //informacao SPA
                    currPage: "login",
                    currUser: "N",

                    //"base de dados"
                    //Paginas que temos
                    pages: ["login", "main", "products", "service", "manage1", "manage2", "special", "special2", "checkout"],
                    //tipos de usuarios
                    usertypes: ["Cli", "Adm", "N"],
                    //dependendo do tipo de usuario, a pagina a ser mostrada sera outra
                    myerror: ""

                },

                methods: {
                    // administra a ação de selecionar no calendário
                    toggleSelect: function(index, hora){
                        if(this.selectedAppointment != null){
                            this.selectedAppointment.isSelected = false;
                        }
                        this.appointments.timeTable[(this.calendarPage*7 + index - 1)*10 + (hora - 1)].isSelected = true;
                        this.selectedAppointment = this.appointments.timeTable[(this.calendarPage*7 + index - 1)*10 + (hora - 1)];
                        this.selectedAppointment.day = this.calendarPage*7 + index;
                        this.selectedAppointment.hour = hora;

                        // provoca uma atualização na renderização do calendário
                        this.calendarPage = this.calendarPage++;
                        this.calendarPage = this.calendarPage--;
                    },

                    // vai para a página anterior do calendário
                    nextCalendarPage: function(){
                        if(this.calendarPage < 9){
                            this.calendarPage++;
                        }
                    },

                    // vai para a próxima página do calendário
                    previousCalendarPage: function(){
                        if(this.calendarPage > 0){
                            this.calendarPage--;    
                        }
                    },

                    // obtém as datas dos próximos 700 dias e coloca no vetor "dates"
                    getDates: function(){
                        this.dates = [];

                        for(var i = 0; i < 70; i++){
                            this.dates.push(new Date());                           
                            this.dates[i].setDate(this.dates[0].getDate() + i);    
                        }
                    },

                    // obtém todos os appointments do pethop
                    getAppointments: async function () {
                        this.getDates()

                        try {
                            // faz um get request para obter os produtos
                            let resp = await fetch("http://localhost:3000/appointments/");

                            // se a requisição for bem-sucedida
                            if (resp.ok) {
                                this.appointments = await resp.json();
                                for(var i = 0; i < this.appointments.timeTable.length; i++){
                                    this.appointments.timeTable[i].isSelected = false;
                                }
                                if(this.appointments.name === "NOTFOUND"){  // vetor vazio
                                    this.appointments = [];
                                }
                            }
                            else {  // se não for...
                                console.log("Couldn't get the appointments");
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }
                    },

                    // cria uma object URL para usar como prévia de uma imagem que será upada
                    previewImage: function(e){
                        const file = e.target.files[0];
                        this.urlPreview = URL.createObjectURL(file);
                        this.imageFile = file;                        
                    },

                    // esvazia o carrinho do usuário
                    emptyCart: function(){
                        if(this.myCart.total != 0){
                            this.myCart.total = 0;
                            this.myCart.receipt = [];
                        }
                        else{  // se o carrinho já estiver vazio, temos a seguinte mensagem
                            alert("Your cart is already empty!");
                        }
                    },

                    // faz o checkout dos produtos/serviços que estão no carrinho
                    // serviço - marca o dia e a hora no backend
                    // produto - subtrai a quantidade disponível
                    checkout: async function () {
                        if (this.myCart.total === 0) {  // carrinho vazio
                            alert("Your cart is empty!");
                        }
                        else {
                            // para cada elemento no carrinho
                            for (var i = 0; i < this.myCart.receipt.length; i++) {
                                if (this.myCart.receipt[i].type === "product") {  // se o item for um produto...
                                    try {
                                        // faz uma requisição para descontar as qtds dos produtos na base de dados
                                        let resp = await fetch("http://localhost:3000/products/sell/" + this.myCart.receipt[i].id);

                                        // se a requisição for bem-sucedida
                                        if (resp.ok) {
                                            console.log("Success!")
                                        }
                                        else {  // se não for...
                                            alert("Couldn't finish the transaction of the following item: " + this.myCart.receipt[i].name);
                                        }
                                    }
                                    catch (e) {
                                        alert("Error " + e);
                                    }
                                }
                                if (this.myCart.receipt[i].type === "service") {  // se o item for um serviço...
                                    // insere um appointment no registro do pet
                                    try{
                                        // fazer request para registrar um appointment
                                        const day = this.myCart.receipt[i].appointment.day;
                                        var hour = this.myCart.receipt[i].appointment.hour;
                                        hour = hour + 8;

                                        let resp = await fetch("http://localhost:3000/pets/reserve/", {
                                            method: "PUT",
                                            headers: {
                                                'Content-type': 'application/json'
                                            },
                                            body: JSON.stringify({  // conteúdo enviado (do form)
                                                // montar corpo da requisição
                                                id: this.myCart.receipt[i].appointment.petid,  // id do pet
                                                serviceId: this.myCart.receipt[i].id,
                                                day: Number(this.dates[day - 1].getDate()),
                                                hour: Number(hour),
                                                name: this.myCart.receipt[i].name                                                
                                            })                                            
                                        });


                                        //se a requisição for bem sucedida
                                        if (resp.ok){
                                            console.log("Success!");
                                        }
                                        else{
                                            alert("Couldn't finish the transaction of a service");
                                        }
                                    }
                                    catch(e){
                                        alert("Error " + e);
                                    }    
                                    
                                    // registra um appointment na coleção de appointments                                    
                                    try{
                                        // fazer request para registrar um appointment
                                        // a fazer
                                        let resp = await fetch("http://localhost:3000/appointments/appoint/", {
                                            method: "POST",
                                            headers: {
                                                'Content-type': 'application/json'
                                            },
                                            body: JSON.stringify({  // conteúdo enviado (do form)
                                                imageurl: this.myCart.receipt[i].image,
                                                petid: this.myCart.receipt[i].appointment.petid,
                                                day: this.myCart.receipt[i].appointment.day,
                                                hour: this.myCart.receipt[i].appointment.hour,
                                                serviceid: this.myCart.receipt[i].id,
                                                ownerid: this.userInfo._id,
                                                petname: this.myCart.receipt[i].appointment.name,
                                                servicename: this.myCart.receipt[i].name,
                                                ownername: this.userInfo.username
                                            })                                            
                                        });


                                        //se a requisição for bem sucedida
                                        if (resp.ok){
                                            alert("Success!");
                                        }
                                        else{
                                            alert("Couldn't finish the transaction of a service");
                                        }
                                    }
                                    catch(e){
                                        alert("Error " + e);
                                    }
                                }

                                this.myCart.total = this.myCart.total - this.myCart.receipt[i].value;
                            }

                            this.myCart.receipt = [];  // esvazia o carrinho
                            if(this.myCart.total === -0){  // detecta e evita zeros negativos
                                this.myCart.total = 0;  
                            }
                        }
                    },

                    // deleta um determinado pet dentre aqueles no vetor de pets
                    deletePet: async function (index) {
                        // deleta o pet
                        try {

                            let resp = await fetch("http://localhost:3000/pets/" + this.pets[index]._id, {
                                method: "DELETE"
                            });

                            // se a requisição foi bem-sucedida:
                            if (resp.ok) {
                                alert("Pet deleted succesfully!")
                            }
                            else {  // se não for, exibe a mensagem no console
                                alert("Something went wrong. Try again later!")
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }

                        // deleta as reservas do pet
                        try {

                            let resp = await fetch("http://localhost:3000/appointments/free/" + this.pets[index]._id);  // GET request!

                            // se a requisição foi bem-sucedida:
                            if (resp.ok) {
                                this.pets.splice(index, 1);  // remove o pet do vetor que já temos

                                alert("Pet deleted succesfully!")
                            }
                            else {  // se não for, exibe a mensagem no console
                                alert("Something went wrong. Try again later!")
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }
                    },

                    // valida o formulário de adição de pets
                    validateFormAddPets: function (e) {
                        e.preventDefault();

                        this.erros = []; // esvazia os erros
                        // checa se deixou algum campo vazio:
                        if (!this.addPetForm.name) {
                            this.erros.push("Fill the pet's name field");
                        }
                        if (!this.addPetForm.species) {
                            this.erros.push("Fill the pet's species field");
                        }
                        if (!this.addPetForm.breed) {
                            this.erros.push("Fill the pet's breed field");
                        }
                        if (!this.addPetForm.age) {
                            this.erros.push("Fill the pet's age field");
                        }
                        else {
                            // checa se é número 
                            if (isNaN(this.addPetForm.age)) {
                                this.erros.push("Invalid age");
                            }
                            else {  // e se é maior que zero
                                if (this.addPetForm.age < 0) {
                                    this.erros.push("Invalid age");
                                }
                            }
                        }

                        if (!this.erros.length) {
                            e.preventDefault();
                            return true;
                        }
                    },

                    // adiciona um pet
                    addPet: async function () {
                        // primeiro adiciona as informações do pet
                        try {
                            if (!this.erros.length) {
                                // faz um post para registrar um pet na base
                                let resp = await fetch("http://localhost:3000/pets/", {
                                    method: "POST",
                                    headers: {
                                        'Content-type': 'application/json'
                                    },
                                    body: JSON.stringify({  // conteúdo enviado (do form)
                                        name: this.addPetForm.name,
                                        species: this.addPetForm.species,
                                        breed: this.addPetForm.breed,
                                        age: this.addPetForm.age,
                                        ownerId: this.userInfo._id
                                    })
                                });

                                // se a requisição for bem-sucedida
                                if (resp.ok) {
                                    this.pets.push(await resp.json());
                                    alert("Your pet has been succesfully added!");
                                }
                                else {  // se não for...
                                    alert("Something went wrong. Try again later");
                                }
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }

                        // depois, adiciona a imagem dele
                        if(this.imageFile != null){
                            try {
                                if (!this.erros.length) {
                                    let form = new FormData();
                                    form.append('Image', this.imageFile);

                                    // faz um post para registrar um pet na base
                                    let resp = await fetch("http://localhost:3000/pets/image/" + this.pets[this.pets.length - 1]._id, {
                                        method: "POST",
                                        body: form
                                    });

                                    // se a requisição for bem-sucedida
                                    if (resp.ok) {
                                        let url = await resp.json();
                                        this.pets[this.pets.length - 1].petImage = url.petImage;
                                        console.log("Image succesfully uploaded: " + this.pets[this.pets.length - 1].petImage);
                                    }
                                    else {  // se não for...
                                        alert("Could not upload the image");
                                    }
                                }
                            }
                            catch (e) {
                                alert("Error: " + e);
                            }

                            this.imageFile = null;
                            this.urlPreview = null;
                            this.petImage = "";
                        }                        
                    },

                    // obtém todos os pets do usuário
                    getPets: async function () {
                        try {
                            // faz um get request para obter os pets do usuário logado
                            let resp = await fetch("http://localhost:3000/pets/owner/" + this.userInfo._id);

                            // se a requisição for bem-sucedida
                            if (resp.ok) {
                                this.pets = await resp.json();
                                if(this.pets.name === "NOTFOUND"){  // vetor vazio
                                    this.pets = [];
                                }
                            }
                            else {  // se não for...
                                alert("Something went wrong. Try again later");
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }
                    },

                    // adiciona um produto ou serviço ao carrinho
                    // value - valor do serviço/produto;
                    // id - id do serviço/produto;
                    // type - pode ser 'product' ou 'service'.
                    addToCart: function (name, value, id, type, index, image) {
                        for (var i = 0; i < this.qtdSelected; i++) {  // repete de acordo com o número de produtos que o usuário pretende comprar
                            // adiciona um elemento (compra) ao vetor 'receipt':
                            if(type === "product"){
                                this.myCart.receipt.push({
                                    name: name,
                                    value: value,
                                    id: id,
                                    type: type,
                                    index: index
                                });

                                // atualiza o valor total de compras no carrinho:
                                this.myCart.total += value;                                
                            }

                            if(type === "service"){
                                if((this.selectedPet != "" && this.selectedPet != null) && this.selectedAppointment != null){
                                    this.myCart.receipt.push({
                                        name: name,
                                        value: value,
                                        id: id,
                                        type: type,
                                        index: index,
                                        appointment: this.selectedAppointment,
                                        image: image   // imagem do serviço
                                    });

                                    // coloca no receipt o pet escolhido
                                    this.myCart.receipt[this.myCart.receipt.length - 1].appointment.petid = this.selectedPet;

                                    this.myCart.receipt[this.myCart.receipt.length - 1].appointment.name = this.pets.find(x => x._id === this.selectedPet).name;                                    

                                    // atualiza o valor total de compras no carrinho:
                                    this.myCart.total += value;                                    
                                }
                                else{
                                    alert("Choose a pet and a timeslot first!")
                                }
                            }

                            console.log("No carrinho: ", this.myCart.total);
                        }
                        this.qtdSelected = 1;
                    },

                    // Usado pelo cliente logado quando este deseja atualizar suas informações pessoais
                    // na página "Update Info"
                    updateUserInfo: async function () {
                        // atualiza as informações colocados no formulário
                        try {
                            let resp = await fetch("http://localhost:3000/users/update/" + this.userInfo._id, {
                                method: "PUT",
                                headers: {
                                    'Content-type': 'application/json'
                                },
                                body: JSON.stringify({  // conteúdo enviado (do form)
                                    username: this.userInfo.username,
                                    password: this.userInfoUpdated.password,
                                    phonenumber: this.userInfoUpdated.phonenumber,
                                    address: this.userInfoUpdated.address,
                                    email: this.userInfoUpdated.email
                                })
                            });

                            // se a requisição for bem sucedida
                            if (resp.ok) {
                                this.userInfo.username = this.userInfoUpdated.username;
                                this.userInfo.password = this.userInfoUpdated.password;
                                this.userInfo.phonenumber = this.userInfoUpdated.phonenumber;
                                this.userInfo.address = this.userInfoUpdated.address;
                                this.userInfo.email = this.userInfoUpdated.email;
                                alert("Your information has been succesfully updated!");
                            }
                            else {  // se não for...
                                alert("Something went wrong. Try again later!");
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }

                        // atualiza a imagem do usuário
                        if(this.imageFile != null){
                            try {
                                if (!this.erros.length) {
                                        let form = new FormData();
                                        form.append('Image', this.imageFile);

                                    // faz um post para registrar um pet na base
                                    let resp = await fetch("http://localhost:3000/users/image/" + this.userInfo._id, {
                                        method: "POST",
                                        body: form
                                    });

                                    // se a requisição for bem-sucedida
                                    if (resp.ok) {
                                        let url = await resp.json();
                                        this.userInfo.imageURL = url.profileImage;
                                        console.log("Image succesfully uploaded: " + this.userInfo.imageURL);
                                    }
                                    else {  // se não for...
                                        alert("Could not upload the image");
                                    }
                                }
                            }
                            catch (e) {
                                alert("Error: " + e);
                            }

                            this.imageFile = null;
                            this.urlPreview = null;
                            this.userImage = "";                            
                        }
                    },

                    // Define um serviço selecionado. Um serviço torna-se um serviço selecionado quando
                    // o usuário clica no botão BOOK de sua miniatura
                    setSelectedService: function (index) {
                        this.selectedService = this.services[index];
                        this.selectedService.index = index;
                    },

                    // obtém todos os serviços na base de dados
                    getEveryService: async function () {
                        try {
                            // faz um get request para obter os produtos
                            let resp = await fetch("http://localhost:3000/services/");

                            // se a requisição for bem-sucedida
                            if (resp.ok) {
                                this.services = await resp.json();
                                if(this.services.name === "NOTFOUND"){  // vetor vazio
                                    this.services = [];
                                }                                
                            }
                            else {  // se não for...
                                alert("Something went wrong. Try again later!");
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }
                    },

                    // Define um produto selecionado. Um produto torna-se um produto selecionado quando
                    // o usuário clica no botão BUY de sua miniatura
                    setSelectedProduct: function (index) {
                        this.selectedProduct = this.products[index];
                        this.selectedProduct.index = index;
                    },

                    // obtém todos os produtos na base de dados
                    getEveryProduct: async function () {
                        try {
                            // faz um get request para obter os produtos
                            let resp = await fetch("http://localhost:3000/products/");

                            // se a requisição for bem-sucedida
                            if (resp.ok) {
                                this.products = await resp.json();
                                if(this.products.name === "NOTFOUND"){  // vetor vazio
                                    this.products = [];
                                }                                
                            }
                            else {  // se não for...
                                alert("Something went wrong. Try again later!");
                            }
                        }
                        catch (e) {
                            alert("Error: " + e);
                        }
                    },

                    //usado para fazer o login verdadeiro
                    //esse login leva em conta tanto usuarios quanto admins
                    login: async function () {

                        try {
                            let getresquest = {
                                method: 'GET'
                            };
                            if (!this.admincheck) {
                                this.fetched = await fetch("http://localhost:3000/users/" + this.userInfo.username, getresquest);

                                this.fetched = await this.fetched.json();

                                if (this.fetched.username == "NOTFOUND") {
                                    alert('User Not Found');
                                    console.log('User not found, deal with it later');
                                }
                                else {
                                    //se a senha esta correta, logamos o usuario na sua conta
                                    if (this.fetched.password == this.userInfo.password) {
                                        this.userInfo._id = this.fetched._id;
                                        this.userInfo.address = this.fetched.address;
                                        this.userInfo.username = this.fetched.username;
                                        this.userInfo.password = this.fetched.password;
                                        this.userInfo.phonenumber = this.fetched.phonenumber;
                                        this.userInfo.email = this.fetched.email;
                                        this.userInfo.imageURL = this.fetched.profileImage;
                                        this.userInfoUpdated.username = this.fetched.username;
                                        this.userInfoUpdated.password = this.fetched.password;
                                        this.userInfoUpdated.phonenumber = this.fetched.phonenumber;
                                        this.userInfoUpdated.address = this.fetched.address;
                                        this.userInfoUpdated.email = this.fetched.email;

                                        this.currUser = this.usertypes[0];
                                        this.currPage = this.pages[1];
                                    }
                                    else {
                                        alert('Wrong Password');
                                        console.log(this.fetched.password);
                                        console.log('User found, wrong password, deal with it later');
                                    }
                                }

                            }
                            else {
                                this.fetched = await fetch("http://localhost:3000/admins/" + this.userInfo.username, getresquest);

                                this.fetched = await this.fetched.json();

                                console.log('resp:' + JSON.stringify(this.fetched));

                                if (this.fetched.username == "NOTFOUND") {
                                    alert('User not Found');
                                    console.log('User not found, deal with it later');
                                }
                                else {
                                    //se a senha esta correta, logamos o usuario na sua conta
                                    if (this.fetched.password == this.userInfo.password) {

                                        this.userInfo._id = this.fetched._id;
                                        this.userInfo.address = this.fetched.address;
                                        this.userInfo.username = this.fetched.username;
                                        this.userInfo.password = this.fetched.password;
                                        this.userInfo.phonenumber = this.fetched.phonenumber;
                                        this.userInfo.email = this.fetched.email;
                                        this.userInfo.imageURL = this.fetched.profileImage;
                                        this.userInfo.realName = this.fetched.realName;

                                        this.currUser = this.usertypes[1];
                                        this.currPage = this.pages[1];
                                        console.log('Success');

                                    }
                                    else {
                                        alert('Wrong Password');
                                        console.log(this.fetched.password);
                                        console.log('User found, wrong password, deal with it later');
                                    }
                                }

                            }
                        }
                        catch (error) {
                            console.log(error);
                        }
                    },
                    //signin cria apenas usuarios e nao admins 
                    signin: async function () {
                        try {

                            //tentamos pegar um usuario ja com esse nome, se nao houver, seguimos
                            this.fetched = await fetch("http://localhost:3000/users/" + this.userInfo.username, { method: 'GET' });
                            this.fetched = await this.fetched.json();

                            console.log('Fetch result:' + JSON.stringify(this.fetched));

                            //se nao achamos alguem com esse nome, eh valido    
                            if (this.fetched.username == "NOTFOUND") {

                                let myheaders = new Headers({ "Content-Type": "application/json", });

                                this.fetched = await fetch("http://localhost:3000/users/", {
                                    method: 'POST',
                                    headers: myheaders,
                                    body: JSON.stringify({
                                        "username": this.userInfo.username,
                                        "email": this.userInfo.email,
                                        "phonenumber": this.userInfo.phonenumber,
                                        "password": this.userInfo.password,
                                        "address": this.userInfo.address
                                    })

                                });

                                console.log(this.fetched);

                                if(this.fetched.ok){
                                    // atualiza as informações do usuário logado
                                    this.fetched = await this.fetched.json();

                                    this.userInfo._id = this.fetched._id;
                                    this.userInfo.address = this.fetched.address;
                                    this.userInfo.username = this.fetched.username;
                                    this.userInfo.password = this.fetched.password;
                                    this.userInfo.phonenumber = this.fetched.phonenumber;
                                    this.userInfo.email = this.fetched.email;
                                    this.userInfo.imageURL = this.fetched.profileImage;
                                    this.userInfo.realName = this.fetched.realName;
                                    this.userInfoUpdated.username = this.fetched.username;
                                    this.userInfoUpdated.password = this.fetched.password;
                                    this.userInfoUpdated.phonenumber = this.fetched.phonenumber;
                                    this.userInfoUpdated.address = this.fetched.address;
                                    this.userInfoUpdated.email = this.fetched.email;                                    

                                    // altera a página
                                    this.currUser = this.usertypes[0];
                                    this.currPage = this.pages[1];
                                    console.log('Success');                                    
                                }
                                else{
                                    alert("Something went wrong!");
                                }
                            }
                            else {
                                alert("Username Already in Use");
                            }

                        } catch (error) {
                            console.log(error);
                        }
                    },

                    onlogin() {

                        if (this.admincheck) {
                            this.currUser = this.usertypes[1];
                        }
                        else {
                            this.currUser = this.usertypes[0];
                        }

                        this.currPage = this.pages[1];
                    },

                    setUser(sstring) {
                        this.currUser = sstring;
                    },

                    setPage(sstring) {
                        this.imageFile = null;
                        this.urlPreview = null;
                        this.petImage = "";
                        this.userImage = "";
                        this.calendarPage = 0;                        

                        this.currPage = sstring;
                    },

                    exite() {
                        this.myCart.total = 0;
                        this.myCart.receipt = [];

                        this.imageFile = null;
                        this.urlPreview = null;
                        this.petImage = "";
                        this.userImage = "";
                        this.calendarPage = 0; 

                        this.setPage("login");
                        this.setUser("N");
                    }
                }
            })

            //javascripts para a tela grande de produtos
            var modal = document.getElementById("fancymodal");
            var closebtn = document.getElementsByClassName("closeButton")[0];

            //Javascripts da tela de "voce tem certeza"
            var modal2 = document.getElementById("confirmmodal");
            var closebtn2 = document.getElementById("confirmclose");

            //javascripts para a tela grande de servicos
            var modal3 = document.getElementById("bigmodal2");
            var closebtn3 = document.getElementById("closem2");


            // mostra a janela grande de um produto
            function showmodal() {
                modal.style.display = "block";
            }

            function closer() {
                modal.style.display = "none";
            }

            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }


            window.onclick = function (event) {
                if (event.target == modal2) {
                    modal2.style.display = "none";
                }

            }

            window.onclick = function (event) {
                if (event.target == modal3) {
                    modal3.style.display = "none";
                }
            }

            function showmodal2() {
                modal2.style.display = "block";
            }

            function closer2() {
                modal2.style.display = "none";
            }

            function showmodal3() {
                modal3.style.display = "block";
            }

            function closer3() {
                modal3.style.display = "none";
            }

            closebtn.addEventListener("click", function () {
                modal.style.display = "none";
            })

            closebtn2.addEventListener("click", function () {
                modal2.style.display = "none";
            })

            closebtn3.addEventListener("click", function () {
                modal3.style.display = "none";
            })

        </script>
</body>

</html>